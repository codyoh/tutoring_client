(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{160:function(e,t,n){e.exports=n(494)},164:function(e,t,n){},165:function(e,t,n){e.exports=n.p+"static/media/logo.5d5d9eef.svg"},166:function(e,t,n){},194:function(e,t){},210:function(e,t){},212:function(e,t){},492:function(e,t,n){},493:function(e,t,n){},494:function(e,t,n){"use strict";n.r(t);var o=n(1),i=n.n(o),s=n(16),r=n.n(s),a=(n(164),n(5)),l=n(6),c=n(39),h=n(38),u=(n(165),n(166),n(84)),p=n.n(u),g=n(56),d=n.n(g),f=(n(220),n(154),n(159)),y=n.n(f),m=function(){function e(t,n,o,i){Object(a.a)(this,e),this.points=t,this.strokeWeight=n,this.color=o,this.p=i}return Object(l.a)(e,[{key:"scale",value:function(e){for(var t=0;t<this.points.length;t++)this.points[t].x=this.points[t].x+e}},{key:"display",value:function(e){this.p.strokeWeight(this.strokeWeight),this.p.stroke(this.color),this.p.beginShape(),this.p.noFill(),this.p.curveVertex(this.points[0].x,this.points[0].y);for(var t=0;t<this.points.length;t+=2)this.p.curveVertex(this.points[t].x,this.points[t].y);this.p.curveVertex(this.points[this.points.length-1].x,this.points[this.points.length-1].y),this.p.endShape()}}]),e}(),w=function(){function e(t,n,o,i,s,r,l){Object(a.a)(this,e),this.centerX=t,this.centerY=n,this.edgeX=o,this.edgeY=i,this.weight=s,this.color=r,this.p=l}return Object(l.a)(e,[{key:"clicked",value:function(e,t){this.p.dist(e,t,this.x+window.innerWidth/2,this.y+.75*window.innerHeight/2)<this.radius&&(this.x=e-window.innerWidth/2,this.y=t-.75*window.innerHeight/2)}},{key:"setEdge",value:function(e,t){this.edgeX=e,this.edgeY=t}},{key:"display",value:function(){this.radius=this.p.dist(this.centerX,this.centerY,this.edgeX,this.edgeY),this.p.noFill(),this.p.stroke(this.color),this.p.strokeWeight(this.weight),this.p.ellipse(this.centerX,this.centerY,2*this.radius)}}]),e}(),k=function(){function e(t,n,o,i){Object(a.a)(this,e),this.points=t,this.strokeWeight=n,this.color=o,this.p=i}return Object(l.a)(e,[{key:"scale",value:function(e){for(var t=0;t<this.points.length;t++)this.points[t].x=this.points[t].x+e}},{key:"display",value:function(e){this.p.strokeWeight(this.strokeWeight),this.p.stroke(this.color),this.p.beginShape(),this.p.noFill(),this.p.curveVertex(this.points[0].x,this.points[0].y);for(var t=0;t<this.points.length;t+=2)this.p.curveVertex(this.points[t].x,this.points[t].y);this.p.curveVertex(this.points[this.points.length-1].x,this.points[this.points.length-1].y),this.p.endShape()}}]),e}(),v=function(){function e(t,n,o){Object(a.a)(this,e),this.points=t,this.strokeWeight=5*n,this.p=o}return Object(l.a)(e,[{key:"display",value:function(){this.p.strokeWeight(this.strokeWeight),this.p.stroke(250),this.p.beginShape(),this.p.noFill(),this.p.curveVertex(this.points[0].x,this.points[0].y);for(var e=0;e<this.points.length;e+=2)this.p.curveVertex(this.points[e].x,this.points[e].y);this.p.curveVertex(this.points[this.points.length-1].x,this.points[this.points.length-1].y),this.p.endShape()}}]),e}(),x=function(){function e(t,n,o,i,s,r,l){Object(a.a)(this,e),this.aCornerX=t,this.aCornerY=n,this.bCornerX=o,this.bCornerY=i,this.weight=s,this.color=r,this.p=l}return Object(l.a)(e,[{key:"clicked",value:function(e,t){this.p.dist(e,t,this.x+window.innerWidth/2,this.y+.75*window.innerHeight/2)<this.radius&&(this.x=e-window.innerWidth/2,this.y=t-.75*window.innerHeight/2)}},{key:"setCorner",value:function(e,t){this.bCornerX=e,this.bCornerY=t}},{key:"display",value:function(){this.p.noFill(),this.p.rectMode(this.p.CORNERS),this.p.stroke(this.color),this.p.strokeWeight(this.weight),this.p.rect(this.aCornerX,this.aCornerY,this.bCornerX,this.bCornerY)}}]),e}();function b(e){var t=p()("173.230.148.240:4000"),n={};t.on("newParticipant",(function(e){t.emit("screenSize",u),console.log("received new participant "+e);var o=new d.a({initiator:!0});n[e]=o,n[e].on("signal",(function(n){!function(e){t.emit("p2pOffer",e)}({toSocketId:e,fromSocketId:t.id,signalData:n})}))})),t.on("p2pOffer",(function(e){console.log("received p2pOffer"),console.log(e);var o=new d.a,i=t.id;n[i]=o,n[i].signal(e.signalData),n[i].on("signal",(function(n){console.log("receiving peer has signaled itself"),function(e){t.emit("p2pAnswer",e)}({toSocketId:e.fromSocketId,fromSocketId:e.toSocketId,signalData:n})}))})),t.on("p2pAnswer",(function(e){var t=e.fromSocketId;console.log("answerers socket id: "+t),console.log("payload: "),console.log(e),console.log("peers: "),console.log(n),n[t].signal(e.signalData),n[t].on("connect",(function(){console.log("peers have connected!")}))})),t.on("startFreeHand",(function(e){r.push({x:e.x,y:e.y}),T(r,e.weight,e.color)})),t.on("freeHand",(function(e){r.push({x:e.x/f,y:e.y/y})})),t.on("release",(function(){r=[]})),t.on("point",(function(t){i.push(new m(t.x,t.y,t.color,e))})),t.on("startCircle",(function(t){i.push(new w(t.x,t.y,t.x,t.y,t.weight,t.color,e))})),t.on("circle",(function(e){i[i.length-1].setEdge(e.x,e.y)})),t.on("startRectangle",(function(t){i.push(new x(t.x,t.y,t.x,t.y,t.weight,t.color,e))})),t.on("rectangle",(function(e){i[i.length-1].setCorner(e.x,e.y)})),t.on("startErase",(function(e){r.push({x:e.x,y:e.y}),console.log(e.color),S(r,e.weight)})),t.on("erase",(function(e){r.push({x:e.x,y:e.y})})),t.on("screenSize",W),t.on("requestScreenSize",(function(){t.emit("screenSize",u)})),t.on("undo",(function(){s.push(i[i.length-1]),i.pop()})),t.on("redo",(function(){i.push(s[s.length-1]),s.pop()})),t.on("clear",(function(){e.clear(),e.setup(),i=[],s=[]}));var o,i=[],s=[],r=[],a="black",l="freeHand",c=1,h=!1,u={width:window.innerWidth,height:.9*window.innerHeight},g={width:window.innerWidth,height:.9*window.innerHeight},f=1,y=1,C={x:u.width/2,y:u.height/2},E="unknown";function W(e){console.log("screen size received"),g.height=e.height,g.width=e.width}function T(t,n,o){var s=new k(t,n,o,e);i.push(s)}function S(n,o){i.push(new v(n,o,e));var s={x:n[0].x,y:n[0].y};t.emit("erase",s)}e.preload=function(){o=e.loadFont("https://cdnjs.cloudflare.com/ajax/libs/topcoat/0.8.0/font/SourceCodePro-Bold.otf")},b.askEmotionalState=function(){var e=prompt("How are you feeling young padowon?");console.log(e)},e.windowResized=function(){e.resizeCanvas(window.innerWidth,.75*window.innerHeight),"tutor"!==E?(u.width=window.innerWidth,u.height=.9*window.innerHeight,e.resizeCanvas(u.width,u.height),t.emit("screenSize",u)):(console.log(g),W(g)),C.x=u.width/2,C.y=u.height/2;for(var n=0;n<i.length;n++)i[n].display()},e.setup=function(){e.createCanvas(u.width,u.height,e.WEBGL),e.background(250),e.strokeWeight(c),e.stroke(a),e.cursor(e.CROSS),e.textFont(o),e.textSize(32),e.fill(0),e.circle(0,0,50),t.emit("screenSize",u)},b.undo=function(){i.length>0&&(s.push(i[i.length-1]),i.pop(),console.log(i),console.log(s),t.emit("undo"))},b.redo=function(){s.length>0&&(i.push(s[s.length-1]),s.pop(),console.log(i),console.log(s),t.emit("redo"))},b.clearButtonPressed=function(){e.clear(),e.setup(),i=[],s=[]},b.strokeWeightChange=function(t){c=t,e.strokeWeight(c)},b.changeDrawType=function(e){l=e},b.changeColor=function(e){"erase"==l&&(l="freeHand"),console.log(e),a=e},b.addText=function(t){e.text(t,50,-55)},b.historyChange=function(e){for(var t=0;t<i.length-e;t++)s.push(i[i.length-1]),i.pop()},e.myCustomRedrawAccordingToNewPropsHandler=function(e){console.log(e.displayToolBar),h!==e.displayToolBar&&i.pop(),h=e.displayToolBar},e.mousePressed=function(){if(h?e.mouseX>0&&e.mouseX<u.width&&e.mouseY>0&&e.mouseY<.92*u.height?(console.log("insideCanvas"),1):(console.log("outside canvas"),0):e.mouseX>0&&e.mouseX<u.width&&e.mouseY>0&&e.mouseY<u.height?(console.log("insideCanvas"),1):(console.log("outside canvas"),0))switch(r.push({x:e.mouseX-C.x,y:e.mouseY-C.y}),console.log(e.mouseX+" , "+e.mouseY),l){case"freeHand":T(r,c,a);var n={color:a,weight:c,x:(e.mouseX-C.x)*f,y:(e.mouseY-C.y)*y};console.log(i[0].points),t.emit("startFreeHand",n);break;case"circle":n={color:a,weight:c,x:(e.mouseX-C.x)*f,y:(e.mouseY-C.y)*y};!function(t,n,o){console.log(t),console.log(t[0]);var s=new w(t[0].x,t[0].y,t[t.length-1].x,t[t.length-1].y,n,o,e);i.push(s),console.log(s),console.log(t)}(r,c,a),t.emit("startCircle",n);break;case"rectangle":n={color:a,weight:c,x:(e.mouseX-C.x)*f,y:(e.mouseY-C.y)*y};i.push(new x(r[0].x,r[0].y,r[r.length-1].x,r[r.length-1].y,c,a,e)),t.emit("startRectangle",n);break;case"erase":S(r,c);n={weight:c,x:e.mouseX-C.x,y:e.mouseY-C.y};t.emit("startErase",n);break;case"point":!function(){i.push(new m(r[0].x,r[0].y,a,e));var n={color:a,x:r[0].x*f,y:r[0].y*y};t.emit("point",n)}()}},e.mouseDragged=function(){r.push({x:e.mouseX-C.x,y:e.mouseY-C.y});var n={x:e.mouseX-C.x,y:e.mouseY-C.y};return"freeHand"===l?t.emit("freeHand",n):"circle"===l?(i[i.length-1].setEdge(r[r.length-1].x,r[r.length-1].y),t.emit("circle",n)):"rectangle"===l?(i[i.length-1].setCorner(r[r.length-1].x,r[r.length-1].y),t.emit("rectangle",n)):t.emit("erase",n),!1},e.mouseReleased=function(){console.log(i),r=[],t.emit("release")},e.draw=function(){e.background(250);for(var t=0;t<i.length;t++)i[t].display();e.stroke("red"),e.circle(-g.width/2,g.height/2,8),e.circle(-g.width/2,-g.height/2,8),e.circle(g.width/2,g.height/2,8),e.circle(g.width/2,-g.height/2,8)}}n(492);var C=function(e){Object(c.a)(n,e);var t=Object(h.a)(n);function n(e){return Object(a.a)(this,n),t.call(this,e)}return Object(l.a)(n,[{key:"render",value:function(){return i.a.createElement("div",{className:"canvas-tool-bar"},i.a.createElement("div",{className:this.props.displayToolBar?"toggle-button":"display-toggle-button"}),i.a.createElement("div",{className:this.props.displayToolBar?"tool-bar":"display-tool-bar"},i.a.createElement("label",{for:"strokeWeight"},"Stroke"),i.a.createElement("input",{id:"strokeWeight",type:"range",defaultValue:this.props.strokeWeight,min:"1",max:"10",step:"1",onInput:this.props.strokeWeightChange.bind(this)}),i.a.createElement("div",{className:"drop-down"},i.a.createElement("div",{className:"drop-down-contents"},i.a.createElement("ul",null,i.a.createElement("li",null,i.a.createElement("button",{value:"green",onClick:this.props.changeColor},"Green")),i.a.createElement("li",null,i.a.createElement("button",{value:"blue",onClick:this.props.changeColor},"Blue")),i.a.createElement("li",null,i.a.createElement("button",{value:"red",onClick:this.props.changeColor},"Red")),i.a.createElement("li",null,i.a.createElement("button",{value:"black",onClick:this.props.changeColor},"Black")))),i.a.createElement("button",null,"Colors")),i.a.createElement("div",{className:"drop-down"},i.a.createElement("div",{className:"drop-down-contents"},i.a.createElement("ul",null,i.a.createElement("li",null,i.a.createElement("button",{value:"rectangle",onClick:this.props.changeDrawType},"Rectangle")),i.a.createElement("li",null,i.a.createElement("button",{value:"circle",onClick:this.props.changeDrawType},"Circle")),i.a.createElement("li",null,i.a.createElement("button",{value:"point",onClick:this.props.changeDrawType},"Point")),i.a.createElement("li",null,i.a.createElement("button",{value:"freeHand",onClick:this.props.changeDrawType},"Free Hand")),i.a.createElement("li",null,i.a.createElement("button",{value:"erase",onClick:this.props.changeDrawType},"Erase")))),i.a.createElement("button",null,"Draw Tools")),i.a.createElement("button",{onClick:this.props.clearButtonPressed},"Clear"),i.a.createElement("button",{onClick:this.props.undo},"Undo"),i.a.createElement("button",{onClick:this.props.redo},"Redo")))}}]),n}(o.Component),E=(n(493),function(e){Object(c.a)(n,e);var t=Object(h.a)(n);function n(e){var o;return Object(a.a)(this,n),(o=t.call(this,e)).state={redirect:!1,color:"black",drawType:"circle",strokeWeight:"1",displayToolBar:!0},o}return Object(l.a)(n,[{key:"toggleDisplayToolBar",value:function(){this.setState({displayToolBar:!this.state.displayToolBar}),console.log(this.state)}},{key:"undo",value:function(e){b.undo()}},{key:"redo",value:function(e){b.redo()}},{key:"clearButtonPressed",value:function(e){b.clearButtonPressed()}},{key:"changeColor",value:function(e){b.changeColor(e.target.value)}},{key:"strokeWeightChange",value:function(e){this.setState({strokeWeight:e.target.value}),b.strokeWeightChange(e.target.value),console.log("slider: "+this.state.strokeWeight)}},{key:"changeDrawType",value:function(e){b.changeDrawType(e.target.value)}},{key:"addText",value:function(e){"Enter"===e.key&&b.addText(e.target.value)}},{key:"historyChange",value:function(e){b.historyChange(e.target.value)}},{key:"render",value:function(){return i.a.createElement("div",{className:"canvas"},i.a.createElement(y.a,{sketch:b,displayToolBar:this.state.displayToolBar,strokeWeight:this.state.strokeWeight,drawType:this.state.drawType,color:this.state.color}),i.a.createElement(C,{sketch:b,toggleDisplayToolBar:this.toggleDisplayToolBar.bind(this),displayToolBar:this.state.displayToolBar,undo:this.undo,redo:this.redo,historyChange:this.historyChange,addText:this.addText,changeDrawType:this.changeDrawType,strokeWeight:this.state.strokeWeight,strokeWeightChange:this.strokeWeightChange.bind(this),clearButtonPressed:this.clearButtonPressed.bind(this),changeColor:this.changeColor.bind(this)})," ")}}]),n}(i.a.Component)),W=function(e){Object(c.a)(n,e);var t=Object(h.a)(n);function n(e){return Object(a.a)(this,n),t.call(this,e)}return Object(l.a)(n,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return i.a.createElement("div",null,i.a.createElement(E,null))}}]),n}(i.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(i.a.createElement(i.a.StrictMode,null,i.a.createElement(W,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[160,1,2]]]);
//# sourceMappingURL=main.fce9519a.chunk.js.map